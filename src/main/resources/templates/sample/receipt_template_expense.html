<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phiếu Chi</title>
    <style>
        /* ===== Page setup ===== */
        @page { size: A4; margin: 15mm; }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Times New Roman", Times, serif;
            font-size: 13pt;
            line-height: 1.3;
            color: #000;
            padding: 15mm;
        }

        /* ===== Layout ===== */
        .receipt-container {
            max-width: 180mm;
            margin: 0 auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border-spacing: 0;
        }

        td {
            padding: 0;
            vertical-align: top;
        }

        .text-right { text-align: right; }
        .italic { font-style: italic; }
        .uppercase { text-transform: uppercase; }
        .bold { font-weight: bold; }

        /* ===== Header ===== */
        .header {
            padding-bottom: 4mm;
            margin-bottom: 5mm;
        }

        .header-left p { margin: 3px 0; }

        .header-right {
            font-size: 11pt;
            text-align: center;
            max-width: 250px;
        }

        .header-right p { margin: 2px 0; }

        /* ===== Title ===== */
        .title-wrapper {
            margin: 6mm 0 12mm;
        }

        .title-section {
            text-align: center;
            padding-right: 25mm;
        }

        .title-section h1 {
            font-size: 18pt;
            margin-bottom: 8px;
        }

        .title-section .subtitle {
            font-size: 12pt;
        }

        .receipt-info {
            text-align: center;
            vertical-align: middle;
        }

        .receipt-info .info-line { margin: 5px 0; }

        /* ===== Content ===== */
        .content { margin: 5mm 0; }

        .content-row {
            margin: 2.5mm 0;
            min-height: 7mm;
        }

        .content-row .label {
            width: 50mm;
            padding-right: 2mm;
        }

        .content-row .value {
            padding-left: 2mm;
            border-bottom: 0.3mm dotted #000;
        }

        .content-row.amount { margin-top: 12px; }
        .content-row.amount-words { margin-bottom: 12px; }

        .content-row.double .label2 {
            width: auto;
            padding-left: 6mm;
            padding-right: 2mm;
            white-space: nowrap;
        }

        /* ===== Signatures ===== */
        .signatures {
            margin-top: 20mm;
        }

        .signature-date {
            margin-bottom: 4mm;
            padding-right: 15mm;
        }

        .signature-row {
            margin-bottom: 25mm;
        }

        .signature-box {
            padding: 0 3mm;
            text-align: center;
            width: 25%;
        }

        .signature-box .title {
            font-size: 11pt;
            margin-bottom: 5px;
        }

        .signature-box .subtitle {
            font-size: 10pt;
            margin-bottom: 80px;
        }

        /* ===== Footer ===== */
        .footer {
            padding-top: 4mm;
            margin-top: 6mm;
        }

        @media print {
            body { padding: 0; }
            .receipt-container { page-break-after: always; }
        }
    </style>
</head>
<body>
<div class="receipt-container">
    <!-- Header -->
    <div class="header">
        <table>
            <tr>
                <td style="width: 65%;">
                    <div class="header-left">
                        <div th:text="${businessName}" class="bold uppercase"></div>
                        <div th:text="${businessAddress}" class="" style="margin-top:10px"></div>
                    </div>
                </td>
                <td style="width: 35%; text-align: right;">
                    <div class="header-right">
                        <p class="bold">Mẫu số 01 – TT</p>
                        <p class="italic">(Ban hành kèm theo Thông tư số 88/2021/TT-BTC ngày 11 tháng 10 năm 2021 của Bộ trưởng Bộ Tài chính)</p>
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <!-- Title -->
    <div class="title-wrapper">
        <table>
            <tr>
                <td class="title-section">
                    <h1 class="uppercase bold">PHIẾU CHI</h1>
                    <div class="subtitle italic">
                        Ngày <span th:text="${receiptDay}"></span>
                        tháng <span th:text="${receiptMonth}"></span>
                        năm <span th:text="${receiptYear}"></span>
                    </div>
                </td>
                <td class="receipt-info">
                    <div class="info-line">Quyển số:.........</div>
                    <div class="info-line">Số: <strong th:text="${transactionNumber}"></strong></div>
                </td>
            </tr>
        </table>
    </div>

    <!-- Content -->
    <div class="content">
        <table class="content-row">
            <tr>
                <td class="label">Họ và tên người nhận tiền:</td>
                <td class="value" th:text="${receiverName}"></td>
            </tr>
        </table>

        <table class="content-row">
            <tr>
                <td class="label">Địa chỉ:</td>
                <td class="value" th:text="${receiverAddress}"></td>
            </tr>
        </table>

        <table class="content-row">
            <tr>
                <td class="label">Lý do chi:</td>
                <td class="value" th:text="${reason}"></td>
            </tr>
        </table>

        <table class="content-row amount">
            <tr>
                <td class="label">Số tiền:</td>
                <td class="value bold" th:text="${amount}"></td>
            </tr>
        </table>

        <table class="content-row amount-words">
            <tr>
                <td class="label">(Viết bằng chữ):</td>
                <td class="value" th:text="${amountInWords}"></td>
            </tr>
        </table>

        <table class="content-row double">
            <tr>
                <td class="label">Kèm theo:</td>
                <td class="value" style="width: 25%;"></td>
                <td class="label2">Chứng từ gốc:</td>
                <td class="value" style="width: 25%;"></td>
            </tr>
        </table>
    </div>

    <!-- Signatures -->
    <div class="signatures">
        <div class="signature-date italic text-right">
            Ngày <span th:text="${signatureDay}"></span>
            tháng <span th:text="${signatureMonth}"></span>
            năm <span th:text="${signatureYear}"></span>
        </div>
        <div class="signature-row">
            <table>
                <tr>
                    <td class="signature-box">
                        <div class="title bold uppercase">NGƯỜI ĐẠI DIỆN<br/>HỘ KINH DOANH /<br/><span style="white-space:nowrap;">CÁ NHÂN KINH DOANH</span></div>
                        <div class="subtitle italic">(Ký, họ tên, đóng dấu)</div>
                    </td>
                    <td class="signature-box">
                        <div class="title bold uppercase">NGƯỜI LẬP BIỂU</div>
                        <div class="subtitle italic">(Ký, họ tên)</div>
                    </td>
                    <td class="signature-box">
                        <div class="title bold uppercase">NGƯỜI NHẬN TIỀN</div>
                        <div class="subtitle italic">(Ký, họ tên)</div>
                    </td>
                    <td class="signature-box">
                        <div class="title bold uppercase">THỦ QUỸ</div>
                        <div class="subtitle italic">(Ký, họ tên)</div>
                    </td>
                </tr>
                <tr>
                    <td class="signature-box">
                        <div class="signature-name" th:text="${representativeName}"></div>
                    </td>
                    <td class="signature-box">
                        <div class="signature-name" th:text="${cashierName}"></div>
                    </td>
                    <td class="signature-box">
                        <div class="signature-name"></div>
                    </td>
                    <td class="signature-box">
                        <div class="signature-name" th:text="${cashierName}"></div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer italic">Đã nhận đủ số tiền (viết bằng chữ): <strong th:text="${amountInWords}"></strong></div>
</div>
</body>
</html>